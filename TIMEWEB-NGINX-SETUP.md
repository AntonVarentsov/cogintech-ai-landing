# Настройка кэширования Nginx для Timeweb

## Проблема
Timeweb использует Nginx, поэтому файл `.htaccess` не работает для кэширования.

## Решение

### 1. Предоставьте конфигурацию техподдержке Timeweb

Отправьте файл `nginx-timeweb.conf` в техподдержку Timeweb со следующим текстом:

```
Здравствуйте! Мне нужно настроить кэширование для статических файлов на моем сайте. 
Пожалуйста, примените следующую конфигурацию Nginx для моего домена:

[вставьте содержимое файла nginx-timeweb.conf]

Эта конфигурация:
- Включает кэширование статических файлов на 1 год
- Включает сжатие gzip
- Добавляет заголовки Cache-Control
- Настраивает правильную обработку SPA маршрутизации
```

### 2. Альтернативный способ - через панель управления

Если у вас есть доступ к настройкам Nginx в панели Timeweb:

1. Войдите в панель управления Timeweb
2. Найдите раздел "Настройки сайта" или "Nginx"
3. Добавьте следующие правила в конфигурацию:

```nginx
# Кэширование статических файлов
location ~* \.(css|js|png|jpg|jpeg|gif|svg|mp4|webm|woff|woff2|ico)$ {
    expires 1y;
    add_header Cache-Control "public, max-age=31536000, immutable";
    add_header Vary Accept-Encoding;
}

# Кэширование папки lovable-uploads
location /lovable-uploads/ {
    expires 1y;
    add_header Cache-Control "public, max-age=31536000, immutable";
    add_header Vary Accept-Encoding;
}

# Кэширование папки assets
location /assets/ {
    expires 1y;
    add_header Cache-Control "public, max-age=31536000, immutable";
    add_header Vary Accept-Encoding;
}
```

### 3. Проверка после настройки

После применения конфигурации:

1. Очистите кэш браузера
2. Зайдите на `your-domain.com/test-cache.html`
3. Откройте Developer Tools (F12) → Network
4. Обновите страницу
5. Проверьте заголовки для статических файлов

### 4. Ожидаемые заголовки

После правильной настройки вы должны увидеть:
```
Cache-Control: public, max-age=31536000, immutable
Expires: [дата через 1 год]
```

### 5. Если техподдержка не может помочь

Попробуйте:
1. Обратиться к другому специалисту техподдержки
2. Указать, что это критично для SEO и производительности
3. Предложить альтернативные варианты настройки

### 6. Проверка в PageSpeed Insights

После настройки кэширования:
1. Запустите PageSpeed Insights заново
2. Проверьте раздел "Кэширование"
3. Убедитесь, что все статические файлы кэшируются

## Контакты
- Техподдержка Timeweb: support@timeweb.ru
- Телефон: 8-800-555-0123 